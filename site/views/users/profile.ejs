<!DOCTYPE html>
<html lang="es">
<%- include('../partials/head', {title: 'Perfil de Usuario'}) %>
<body>
    <%- include('../partials/header') %>
    
    <section class="top-nav">
        <nav class="top-nav-start breadcrumb">
            <a href="/">Inicio</a>
            <a href="/users/profile">Mi cuenta</a>
        </nav>
    </section>
    
    <main class="row profile">
        <div class="col-12 col-md-5 col-lg-3 profile-header">
            <figure class="profile-picture"> 
                <img src="/images/users/<%= user.image %>" onerror="this.src='/images/users/default-image.png'" alt="imagen de perfil">
            </figure>
            <h2><%= user.firstname %> <%= user.lastname %></h2>
            <a href="/users/profile/edit" class="btn btn-primary">Editar</a>
        </div>
        <div class="col-12 col-md-7 col-lg-9">
            <p><span>Nombre: </span> <%= user.firstname %></p>
            <p><span>Apellido: </span> <%= user.lastname %></p>
            <p><span>Email: </span> <%= user.email %></p>
            <p><span>Categoría: </span> <%= user.role.name %></p>
            <p><span>Teléfono: </span> <%= user.phone %></p>
            <% user.addresses.forEach(address => { %>
                <p>
                    <span>Domicilio de <%= address.type == 'payment' ? 'facturación' : 'entrega' %>: </span>
                    <%= address.street %> <%= address.number %>, <%= address.city %>
                </p>
            <% }) %>
        </div>
    </main>
    
    <%- include('../partials/footer') %>
</body>
</html>